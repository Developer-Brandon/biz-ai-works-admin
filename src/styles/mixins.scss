/**
 * mixins.scss - SCSS Mixin 유틸리티
 * 
 * SCSS Mixin:
 * - CSS 코드 재사용을 위한 함수
 * - @mixin 정의, @include로 사용
 * - 매개변수 지원 (함수처럼)
 * 
 * Vue3 + SCSS 패턴:
 * - 컴포넌트 스코프 SCSS는 <style scoped>에서 mixin 사용
 * - @include mixin-name(params)으로 호출
 */

/* ============================================
   Flexbox & Grid 관련
   ============================================ */

/**
 * Flex 중앙 정렬
 * 사용: @include flex-center();
 */
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

/**
 * Flex 컬럼 중앙 정렬
 * 사용: @include flex-column-center();
 */
@mixin flex-column-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/**
 * Flex 간격 균등 분배
 * 사용: @include flex-between();
 */
@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/**
 * 그리드 반응형 (auto-fit)
 * 사용: @include grid-auto-fit(250px);
 */
@mixin grid-auto-fit($min-size) {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax($min-size, 1fr));
  gap: $spacing-md;
}

/**
 * 그리드 반응형 (auto-fill)
 * 사용: @include grid-auto-fill(250px);
 */
@mixin grid-auto-fill($min-size) {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax($min-size, 1fr));
  gap: $spacing-md;
}

/* ============================================
   텍스트 관련
   ============================================ */

/**
 * 텍스트 잘림 (한줄)
 * 사용: @include text-truncate();
 */
@mixin text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/**
 * 텍스트 잘림 (여러줄)
 * 사용: @include text-line-clamp(3);
 */
@mixin text-line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/**
 * 스몰 캡스 텍스트
 * 사용: @include small-caps();
 */
@mixin small-caps {
  font-variant: small-caps;
  letter-spacing: 0.05em;
}

/* ============================================
   위치 관련
   ============================================ */

/**
 * 절대 위치 중앙 정렬
 * 사용: @include absolute-center();
 */
@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/**
 * 절대 위치 (최상단 좌측)
 * 사용: @include absolute-top-left($top, $left);
 */
@mixin absolute-top-left($top: 0, $left: 0) {
  position: absolute;
  top: $top;
  left: $left;
}

/**
 * 절대 위치 (우측 하단)
 * 사용: @include absolute-bottom-right($bottom, $right);
 */
@mixin absolute-bottom-right($bottom: 0, $right: 0) {
  position: absolute;
  bottom: $bottom;
  right: $right;
}

/**
 * 고정 위치 (모서리 채우기)
 * 사용: @include fixed-full();
 */
@mixin fixed-full {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

/**
 * 절대 위치 (모서리 채우기)
 * 사용: @include absolute-full();
 */
@mixin absolute-full {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

/* ============================================
   크기 관련
   ============================================ */

/**
 * 정사각형 크기
 * 사용: @include square(100px);
 */
@mixin square($size) {
  width: $size;
  height: $size;
}

/**
 * 원형 (border-radius: 50%)
 * 사용: @include circle($size);
 */
@mixin circle($size) {
  width: $size;
  height: $size;
  border-radius: 50%;
}

/* ============================================
   배경 관련
   ============================================ */

/**
 * 배경 이미지 커버
 * 사용: @include bg-cover();
 */
@mixin bg-cover {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/**
 * 배경 이미지 포함
 * 사용: @include bg-contain();
 */
@mixin bg-contain {
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
}

/**
 * 그라데이션 배경
 * 사용: @include gradient(#color1, #color2);
 */
@mixin gradient($from, $to, $angle: 135deg) {
  background: linear-gradient($angle, $from 0%, $to 100%);
}

/* ============================================
   테두리 & 그림자 관련
   ============================================ */

/**
 * 테두리 라운드 (모든 방향)
 * 사용: @include border-radius-all(8px);
 */
@mixin border-radius-all($radius) {
  border-radius: $radius;
}

/**
 * 테두리 라운드 (상단)
 * 사용: @include border-radius-top(8px);
 */
@mixin border-radius-top($radius) {
  border-top-left-radius: $radius;
  border-top-right-radius: $radius;
}

/**
 * 테두리 라운드 (하단)
 * 사용: @include border-radius-bottom(8px);
 */
@mixin border-radius-bottom($radius) {
  border-bottom-left-radius: $radius;
  border-bottom-right-radius: $radius;
}

/**
 * 그림자
 * 사용: @include shadow($shadow-md);
 */
@mixin shadow($shadow: $shadow-md) {
  box-shadow: $shadow;

  &:hover {
    box-shadow: $shadow-lg;
  }
}

/**
 * 상단 그림자만
 * 사용: @include shadow-top();
 */
@mixin shadow-top($shadow: 0 -4px 12px rgba(0, 0, 0, 0.1)) {
  box-shadow: $shadow;
}

/* ============================================
   트랜지션 & 애니메이션
   ============================================ */

/**
 * 부드러운 전환
 * 사용: @include transition(all);
 */
@mixin transition($property: all, $duration: $transition-base) {
  transition: $property $duration;
}

/**
 * 호버 효과 (scale)
 * 사용: @include hover-scale(1.05);
 */
@mixin hover-scale($scale: 1.05) {
  transition: transform $transition-fast;

  &:hover {
    transform: scale($scale);
  }
}

/**
 * 호버 효과 (색상)
 * 사용: @include hover-color(#color);
 */
@mixin hover-color($color) {
  transition: color $transition-fast;

  &:hover {
    color: $color;
  }
}

/**
 * 호버 효과 (배경색)
 * 사용: @include hover-bg($color);
 */
@mixin hover-bg($color) {
  transition: background-color $transition-fast;

  &:hover {
    background-color: $color;
  }
}

/**
 * 호버 효과 (up)
 * 사용: @include hover-up(4px);
 */
@mixin hover-up($distance: 4px) {
  transition: transform $transition-fast;

  &:hover {
    transform: translateY(-$distance);
  }
}

/**
 * 애니메이션 적용
 * 사용: @include animation(fadeIn, 0.3s);
 */
@mixin animation($name, $duration: 0.3s, $timing: ease-in-out) {
  animation: $name $duration $timing;
}

/* ============================================
   반응형 미디어 쿼리
   ============================================ */

/**
 * 모바일 (xs)
 * 사용: @include mobile { ... }
 */
@mixin mobile {
  @media (max-width: $breakpoint-sm) {
    @content;
  }
}

/**
 * 태블릿 (md)
 * 사용: @include tablet { ... }
 */
@mixin tablet {
  @media (max-width: $breakpoint-md) {
    @content;
  }
}

/**
 * 데스크톱 (lg)
 * 사용: @include desktop { ... }
 */
@mixin desktop {
  @media (min-width: $breakpoint-lg) {
    @content;
  }
}

/**
 * 큰 화면 (xl)
 * 사용: @include large { ... }
 */
@mixin large {
  @media (min-width: $breakpoint-xl) {
    @content;
  }
}

/* ============================================
   유틸리티 Mixin
   ============================================ */

/**
 * 시각적으로 숨김 (스크린 리더 보이기)
 * 사용: @include sr-only();
 */
@mixin sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/**
 * 클리어픽스 (float 클리어)
 * 사용: @include clearfix();
 */
@mixin clearfix {
  &::after {
    content: "";
    display: table;
    clear: both;
  }
}

/**
 * 포커스 상태 스타일
 * 사용: @include focus-visible();
 */
@mixin focus-visible {
  outline: 2px solid $color-primary;
  outline-offset: 2px;
}

/**
 * 비활성화 상태
 * 사용: @include disabled();
 */
@mixin disabled {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
}
