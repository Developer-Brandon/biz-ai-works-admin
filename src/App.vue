<template>
  <!-- 
    App.vue - ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸
    
    êµ¬ì¡°:
    - <a-config-provider>: Ant Design Vue ì „ì—­ ì„¤ì •
      - getPopupContainer: ëª¨ë‹¬, ë“œë¡­ë‹¤ìš´, íŒì˜¤ë²„ ë“±ì˜ íŒì—… ë Œë”ë§ ìœ„ì¹˜ ì„¤ì •
    - <router-view>: í˜„ì¬ ë¼ìš°íŠ¸ì— í•´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
    
    ë¼ìš°íŒ… íë¦„:
    /admin/contents â†’ Contents.vue
    /admin/logo â†’ Logo.vue
    /admin/color-palette â†’ ColorPalette.vue
    
    Layout.vueëŠ” /admin ê²½ë¡œì˜ childrenì— í¬í•¨ë˜ë¯€ë¡œ,
    Layout.vue ë‚´ë¶€ì˜ <router-view>ì— ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë Œë”ë§ë©ë‹ˆë‹¤.
    
    Vue3 vs Vue2:
    - Vue2: <v-app> ë˜ëŠ” ë£¨íŠ¸ ìš”ì†Œë¡œ ê°ì‹¸ê¸°
    - Vue3: <a-config-provider>ë¡œ ê°ì‹¸ê¸° (Ant Design Vue ê¶Œì¥)
  -->
  <a-config-provider :get-popup-container="getPopupContainer">
    <router-view />
  </a-config-provider>
</template>

<script setup lang="ts">
/**
 * App.vue - ìµœìƒìœ„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»´í¬ë„ŒíŠ¸
 *
 * Ant Design Vue ConfigProvider ì„¤ì •:
 * - getPopupContainer: íŒì—… ì»¨í…Œì´ë„ˆ ìœ„ì¹˜ ì§€ì •
 *
 * Vue3 íŠ¹ì§•:
 * - <script setup lang="ts">: ìµœì‹  ë¬¸ë²•
 * - ìë™ìœ¼ë¡œ ìµœìƒìœ„ ìŠ¤ì½”í”„ë¡œ export
 *
 * Vue2 vs Vue3:
 * - Vue2: export default { name: 'App', ... }
 * - Vue3: <script setup>ì€ name, props ë“±ì„ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸
 */

import { useRouter } from "vue-router";

/**
 * ë¼ìš°í„° ì¸ìŠ¤í„´ìŠ¤ (ë¼ìš°íŠ¸ ì •ë³´ ì ‘ê·¼ìš©)
 */
const router = useRouter();

/**
 * Ant Design Vue íŒì—… ì»¨í…Œì´ë„ˆ ì„¤ì •
 *
 * ê¸°ëŠ¥:
 * - Modal, Dropdown, Tooltip ë“±ì˜ íŒì—…ì„ ì–´ëŠ ìš”ì†Œ ë‚´ì—ì„œ ë Œë”ë§í• ì§€ ì§€ì •
 * - ì¼ë°˜ì ìœ¼ë¡œ #app ìš”ì†Œë¡œ ì„¤ì •
 * - ìŠ¤í¬ë¡¤ ë° ìœ„ì¹˜ ê³„ì‚°ì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ë„ë¡ í•¨
 *
 * Vue3ì—ì„œ ConfigProvider ì‚¬ìš© ë°©ë²•:
 * <a-config-provider :get-popup-container="getPopupContainer">
 *   <component-with-modals />
 * </a-config-provider>
 */
const getPopupContainer = (): HTMLElement => {
  // document.bodyì— íŒì—… ë Œë”ë§ (ëª¨ë“  ëª¨ë‹¬/ë“œë¡­ë‹¤ìš´ì´ body ì§í•˜ìœ„ì— ë Œë”ë¨)
  return document.body;
};

/**
 * ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë¼ìš°íŠ¸ ì •ë³´ ë¡œê¹…
 */
if (import.meta.env.DEV) {
  console.log("ğŸš€ Biz AI Admin Portal ì•± ì´ˆê¸°í™”");
  console.log("ğŸ“ í˜„ì¬ ë¼ìš°íŠ¸:", router.currentRoute.value);
}
</script>

<style scoped lang="scss">
/**
 * App.vue ìŠ¤íƒ€ì¼
 * 
 * <router-view>ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ë¯€ë¡œ,
 * ì¼ë°˜ì ìœ¼ë¡œ App.vueì—ëŠ” ì „ì—­ ìŠ¤íƒ€ì¼ë§Œ ì •ì˜í•©ë‹ˆë‹¤.
 * 
 * ê° í˜ì´ì§€ì˜ ìŠ¤íƒ€ì¼ì€ ê°œë³„ ì»´í¬ë„ŒíŠ¸ íŒŒì¼ì—ì„œ ì •ì˜í•©ë‹ˆë‹¤.
 */

:global(body) {
  margin: 0;
  padding: 0;
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
    "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  background: #f5f7fa;
}

:global(#app) {
  width: 100%;
  min-height: 100vh;
}
</style>
